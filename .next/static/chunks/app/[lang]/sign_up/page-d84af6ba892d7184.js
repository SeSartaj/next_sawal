(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[995],{2480:function(){},4801:function(e,t,r){Promise.resolve().then(r.bind(r,2257))},5707:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return h},default:function(){return v}});var s=r(7437),a=r(2265),n=r(9687),o=r(8688),l=r(3014),c=r(4033),i=r(4177);let u="auth_token",d="user",m=()=>{try{return i.Z.getItem(u)}catch(e){console.log("Error getting the Auth Token",e)}},x=()=>{try{return i.Z.getItem(d)}catch(e){console.log("Error getting the Auth Token",e)}};var g={getToken:()=>{let e=m();return e||null},storeToken:e=>{try{i.Z.setItem(u,e)}catch(e){console.log("Error storing the Auth Token",e)}},removeToken:()=>{try{i.Z.removeItem(u)}catch(e){console.log("Error removing the auth token",e)}},getUser:()=>{let e=x();return e||null},storeUser:e=>{try{i.Z.setItem(d,e)}catch(e){console.log("Error storing the Auth Token",e)}},removeUser:()=>{try{i.Z.removeItem(d)}catch(e){console.log("Error removing the auth token",e)}}};let p=(0,a.createContext)(void 0),h=e=>{let{children:t}=e,r=(0,c.useRouter)(),i=g.getUser(),u=g.getToken(),[d,m]=(0,a.useState)(i||null),[x,h]=(0,a.useState)(u||null),v=async(e,t)=>{await n.Z.auth.signin({username:e,password:t}).then(e=>{g.storeToken(e.data),h(e.data),n.Z.users.retrieve(e.data.id).then(e=>{g.storeUser(e.data),m(e.data),e.data.lang?r.push("/".concat(e.data.lang)):r.push("/")}).catch(e=>{console.error((0,o.e)(e)),(0,l.toast)((0,o.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})})}).catch(e=>{console.error((0,o.e)(e)),(0,l.toast)((0,o.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})})};return(0,s.jsx)(p.Provider,{value:{user:d,jwt:x,login:v,logout:()=>{g.removeToken(),g.removeUser(),h(null),m(null)},updateUser:e=>{g.removeUser(),g.storeUser(e),m(e)}},children:t})};var v=p},2257:function(e,t,r){"use strict";r.r(t);var s=r(7437),a=r(2265),n=r(6230),o=r(5691),l=r(9619),c=r(2563),i=r(6554),u=r(6753),d=r(9687),m=r(4033),x=r(8688),g=r(3014),p=r(5707),h=r(1469);t.default=e=>{let{lang:t,dictionary:r}=e,v=o.Ry({firstName:o.Z_(),lastName:o.Z_().required(r.validation.last_name_required),username:o.Z_().required(r.validation.username_required),password:o.Z_().required(r.validation.password_required),confirmPassword:o.Z_().oneOf([o.iH("password"),""],r.validation.password_match).required(r.validation.confirm_password_required),email:o.Z_().email().required(r.validation.email_required)}),[f,T]=(0,a.useState)(!1),y=(0,m.useRouter)(),j=(0,a.useContext)(p.default);return(null==j?void 0:j.jwt)&&y.push("/".concat(t,"/questions")),(0,s.jsx)(n.J9,{initialValues:{firstName:"",lastName:"",email:"",username:"",password:""},validationSchema:v,onSubmit:(e,r)=>{let{setSubmitting:s}=r;T(!0);let{firstName:a,lastName:n,email:o,username:l,password:c}=e;d.Z.users.createUser({firstName:a,lastName:n,email:o,username:l,password:c,lang:t}).then(()=>{T(!1),y.push("/".concat(t,"/sign_in"))}).catch(e=>{T(!1),console.error((0,x.e)(e)),(0,g.toast)((0,x.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})}),console.log(e,"Here"),s(!1)},children:f?(0,s.jsx)(h.Z,{}):(0,s.jsx)(n.l0,{children:(0,s.jsxs)("div",{className:"justify-center",children:[(0,s.jsx)("div",{className:"flex py-10 justify-center",children:(0,s.jsx)(l.Z,{title:r.headers.sign_up,size:"xs",className:"text-gray-600"})}),(0,s.jsxs)("div",{className:"relative p-6 flex",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(n.gN,{as:c.Z,name:"firstName",placeholder:r.main.first_name,label:r.main.first_name}),(0,s.jsx)(n.Bc,{name:"firstName",component:"div",className:"text-red-500 text-xs"})]}),(0,s.jsxs)("div",{className:"flex-col flex-1 px-4",children:[(0,s.jsx)(n.gN,{as:c.Z,name:"lastName",placeholder:r.main.last_name,label:r.main.last_name}),(0,s.jsx)(n.Bc,{name:"lastName",component:"div",className:"text-red-500 text-xs"})]})]}),(0,s.jsxs)("div",{className:"relative p-6 flex-auto",children:[(0,s.jsx)(n.gN,{as:c.Z,name:"email",placeholder:r.main.email,label:r.main.email}),(0,s.jsx)(n.Bc,{name:"email",component:"div",className:"text-red-500 text-xs"})]}),(0,s.jsxs)("div",{className:"relative p-6 flex-auto",children:[(0,s.jsx)(n.gN,{as:c.Z,name:"username",placeholder:r.main.username,label:r.main.username}),(0,s.jsx)(n.Bc,{name:"username",component:"div",className:"text-red-500 text-xs"})]}),(0,s.jsxs)("div",{className:"relative p-6 flex",children:[(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(n.gN,{as:c.Z,name:"password",type:"password",placeholder:r.main.password,label:r.main.password}),(0,s.jsx)(n.Bc,{name:"password",component:"div",className:"text-red-500 text-xs"})]}),(0,s.jsxs)("div",{className:"flex-1 flex-col px-4",children:[(0,s.jsx)(n.gN,{as:c.Z,name:"confirmPassword",type:"password",placeholder:r.main.confirm_password,label:r.main.confirm_password}),(0,s.jsx)(n.Bc,{name:"confirmPassword",component:"div",className:"text-red-500 text-xs"})]})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mt-3 p-6 rounded-b",children:(0,s.jsx)(i.z,{type:"submit",children:r.headers.sign_up})}),(0,s.jsx)("div",{className:"flex items-center justify-center mt-3 p-6 rounded-b",children:(0,s.jsx)(u.Z,{className:"text-gray-700",children:r.main.sign_up_agree})})]})})})}},6554:function(e,t,r){"use strict";r.d(t,{d:function(){return c},z:function(){return i}});var s=r(7437),a=r(2265),n=r(306),o=r(6061),l=r(6264);let c=(0,o.j)("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-gray-800 text-white hover:bg-gray-700",destructive:"text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",subtle:"bg-slate-100 text-slate-900 hover:bg-slate-200",ghost:"bg-transparent hover:bg-slate-100 data-[state=open]:bg-transparent",ghostNonHover:"bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent underline-offset-4 text-slate-900 hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",lg:"h-11 px-8 rounded-md",xs:"h-8 px-1 rounded-sm"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,children:a,variant:o,isLoading:i,size:u,...d}=e;return(0,s.jsxs)("button",{className:(0,n.cn)(c({variant:o,size:u,className:r})),ref:t,disabled:i,...d,children:[i?(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,a]})});i.displayName="Button"},2563:function(e,t,r){"use strict";var s=r(7437),a=r(2265),n=r(6061),o=r(306),l=r(6753);let c=(0,n.j)("block py-2.5 px-0 w-full text-sm text-gray-700 bg-transparent border-0 border-b-2 border-gray-200 appearance-none focus:outline-none focus:ring-0 focus:border-gray-500 peer");t.Z=a.forwardRef((e,t)=>{let{className:r,children:a,value:n,onChange:i,label:u,disabled:d,clearIcon:m,cleanStateToggle:x,lang:g,...p}=e;return(0,s.jsxs)("div",{className:"w-full",children:[u&&n&&(0,s.jsx)(l.Z,{children:u}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{className:(0,o.cn)(c({className:r})),ref:t,value:n,onChange:i,disabled:d,...p}),m&&(0,s.jsx)("button",{className:"absolute ".concat(g?"en"==g?"right-0":"left-0":"right-0"," top-1/2 transform -translate-y-1/2 text-gray-500 focus:outline-none"),onClick:()=>x(),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11.414l3.536-3.536 1.414 1.414L11.414 10l3.536 3.536-1.414 1.414L10 11.414l-3.536 3.536-1.414-1.414L8.586 10 5.05 6.464l1.414-1.414L10 8.586l3.536-3.536 1.415 1.414z",clipRule:"evenodd"})})})]})]})})},6753:function(e,t,r){"use strict";var s=r(7437),a=r(2265),n=r(306);let o=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsx)("label",{className:(0,n.cn)("text-sm text-gray-700",r),...o,children:a})});o.displayName="Label",t.Z=o},1469:function(e,t,r){"use strict";var s=r(7437);t.Z=()=>(0,s.jsxs)("div",{className:"loading-spinner",children:[(0,s.jsx)("div",{className:"spinner"}),"Loading..."]})},9619:function(e,t,r){"use strict";var s=r(7437);r(2265);var a=r(6061),n=r(306);let o=(0,a.j)("text-gray-800 text-center lg:text-left leading-tight tracking-tighter",{variants:{size:{default:"text-4xl md:text-5xl lg:text-6xl",lg:"text-5xl md:text-6xl lg:text-7xl",sm:"text-2xl md:text-3xl lg:text-4xl",xs:"text-1xl md:text-1xl lg:text-2xl",xxs:"text-sm md:text-sm lg:text-sm"}},defaultVariants:{size:"default"}});t.Z=e=>{let{title:t,numberCount:r,children:a,className:l,size:c,...i}=e;return(0,s.jsxs)("div",{className:"items-baseline flex",children:[(0,s.jsx)("h1",{...i,className:(0,n.cn)(o({size:c,className:l})),children:t}),r?(0,s.jsx)("h2",{className:"text-gray-500 text-2xl px-4",children:r}):null]})}},8688:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});let s=e=>{var t,r;let s=null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message;return s[0].message&&(s=s[0].message),s||(s="Something went wrong, Please try again."),s}},306:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(7042),a=r(3986);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m)((0,s.W)(t))}},9687:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2173);let a=s.Z.create({baseURL:"https://online.tveta.gov.af:8080/api"});function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n={method:e,withCredentials:!0,url:t,data:r,json:!0,headers:{}};return s&&(n.headers.Authorization="Bearer ".concat(s)),a(n)}var o={auth:{signin:e=>n("POST","/signin",e)},users:{createUser:e=>n("POST","/users",e),createModerator:(e,t)=>n("POST","/moderators",e,t),list:()=>n("GET","/users"),querySearchModerators(e){let t="/moderators?".concat(e);return n("GET",t)},querySearchMembers(e){let t="/members?".concat(e);return n("GET",t)},retrieve(e){let t="/users/".concat(e);return n("GET",t)},update(e,t){let r="/users/".concat(e);return n("POST",r,t)},delete(e){let t="/users/".concat(e);return n("DELETE",t)},userActivity(e){let t="/users/user-activity/".concat(e);return n("GET",t)},changePassword(e,t,r){let s="/users/change-pass/".concat(e);return n("POST",s,t,r)},addTagsToModerator(e,t,r){let s="/users/tags/".concat(e);return n("POST",s,t,r)},makeUserModerator(e,t){let r="/users/make-moderator/".concat(e);return n("PUT",r,t)},dismissModeratorUser(e,t){let r="/users/dismiss-moderator/".concat(e);return n("PUT",r,t)},removeTagsFromModerator(e,t,r){let s="/users/tags/remove/".concat(e);return n("POST",s,t,r)},emailSendForPasswordReset:e=>n("POST","/users/reset-password",e),resetPasswordByToken(e,t){let r="/users/reset-pass-token/".concat(e);return n("POST",r,t)},suspendUser(e,t,r){let s="/users/suspend/".concat(e);return n("PUT",s,t,r)},changeUserLang(e,t,r){let s="/users/change-lang/".concat(e);return n("PUT",s,t,r)}},tags:{create:(e,t)=>n("POST","/tags",e,t),list:()=>n("GET","/tags"),options(e){let t="/tag-options/".concat(e);return n("GET",t)},querySearch(e){let t="/query-tags?".concat(e);return n("GET",t)},retrieve(e){let t="/tags/".concat(e);return n("GET",t)},update:(e,t)=>n("PUT","/tags",e,t),delete(e){let t="/tags/".concat(e);return n("DELETE",t)}},reportTypes:{create:(e,t)=>n("POST","/report_types",e,t),options(e){let t="/report-type-options/".concat(e);return n("GET",t)},querySearch(e){let t="/query-report-types?".concat(e);return n("GET",t)},retrieve(e){let t="/report_types/".concat(e);return n("GET",t)},update:(e,t)=>n("PUT","/report_types",e,t),delete(e){let t="/report_types/".concat(e);return n("DELETE",t)}},reports:{create:(e,t)=>n("POST","/reports",e,t),querySearch(e){let t="/query-reports?".concat(e);return n("GET",t)},retrieve(e){let t="/reports/".concat(e);return n("GET",t)},update(e,t){let r="/reports/".concat(e);return n("POST",r,t)},delete(e,t){let r="/reports/".concat(e);return n("DELETE",r,{},t)},closeReport(e,t){let r="/reports/close/".concat(e);return n("PUT",r,{},t)}},discussions:{create:(e,t)=>(console.log(e,"data"),n("POST","/discussions",e,t)),list:()=>n("GET","/discussions"),querySearch(e){let t="/discussions?".concat(e);return n("GET",t)},retrieve(e){let t="/discussions/".concat(e);return n("GET",t)},update:(e,t)=>n("PUT","/discussions",e,t),delete(e,t){let r="/discussions/".concat(e);return n("DELETE",r,{},t)},lockDiscussion(e,t){let r="/discussions/lock/".concat(e);return n("PUT",r,{},t)},unlockDiscussion(e,t){let r="/discussions/unlock/".concat(e);return n("PUT",r,{},t)},fetchByTagId(e){let t="/discussions/tag/".concat(e);return n("GET",t)}},answers:{create:(e,t)=>n("POST","/answers",e,t),list:()=>n("GET","/answers"),retrieve(e){let t="/answers/".concat(e);return n("GET",t)},update:(e,t)=>n("PUT","/answers",e,t),delete(e,t){let r="/answers/".concat(e);return n("DELETE",r,{},t)},getVotes(e){let t="/answers/votes/".concat(e);return n("GET",t)}},comments:{create:(e,t)=>n("POST","/comments",e,t),list:()=>n("GET","/comments"),retrieve(e){let t="/comments/".concat(e);return n("GET",t)},update:(e,t)=>n("PUT","/comments",e,t),delete(e,t){let r="/comments/".concat(e);return n("DELETE",r,{},t)}},files:{uploadFiles:(e,t)=>n("POST","/upload",e,t),upload(e,t,r){let s="/upload/".concat(e);return n("POST",s,t,r)}},setting:{update:(e,t)=>n("PUT","/settings",e,t)},vote:{create:(e,t)=>n("POST","/votes",e,t),delete(e,t){let r="/votes/".concat(e);return n("DELETE",r,t)}}}}},function(e){e.O(0,[150,5,616,478,596,744],function(){return e(e.s=4801)}),_N_E=e.O()}]);