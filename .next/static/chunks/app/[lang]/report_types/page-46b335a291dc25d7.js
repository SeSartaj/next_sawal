(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[294],{6254:function(e,a,s){Promise.resolve().then(s.bind(s,9400))},9400:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return v}});var t=s(7437),n=s(2265),l=s(9687),i=s(9006),r=s(9619),d=s(3621),c=s(2498),o=s(5630),m=s(6554),x=s(5691),u=s(6230),p=s(2563),h=s(3014),f=s(8688),j=s(5707),y=e=>{let{toggleModal:a,setReportTypeState:s,lang:i,dictionary:d}=e,c=x.Ry({name:x.Z_().required(d.validation.english_name_required),namePa:x.Z_().required(d.validation.pashtu_name_required),nameDa:x.Z_().required(d.validation.dari_name_required)}),o=(0,n.useContext)(j.default);return(0,t.jsx)(u.J9,{initialValues:{name:"",namePa:"",nameDa:""},validationSchema:c,onSubmit:(e,t)=>{var n;let{setSubmitting:i}=t,r=null==o?void 0:null===(n=o.jwt)||void 0===n?void 0:n.accessToken,{name:c,namePa:m,nameDa:x}=e;l.Z.reportTypes.create({name:c,namePa:m,nameDa:x},r).then(e=>{l.Z.reportTypes.querySearch("").then(e=>{s(e.data)}),(0,h.toast)(d.notify.report_type_created_ok,{hideProgressBar:!0,autoClose:2e3,type:"success"}),a()}).catch(e=>{console.error((0,f.e)(e)),(0,h.toast)((0,f.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})}),console.log(e,"Here"),i(!1)},children:(0,t.jsx)(u.l0,{children:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center mt-10 overflow-x-hidden overflow-y-auto outline-none focus:outline-none",children:(0,t.jsx)("div",{className:"relative lg:w-[35%] md:w-[50%] w-full my-6 max-w-3xl sm:",children:(0,t.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,t.jsx)("div",{className:"flex items-start justify-between p-5 rounded-t",children:(0,t.jsx)(r.Z,{title:d.main.create_report_type,size:"xs",className:"text-gray-600 "})}),(0,t.jsx)("div",{className:"relative p-6 flex",children:(0,t.jsxs)("div",{className:"flex-1 flex-col",children:[(0,t.jsx)(u.gN,{as:p.Z,name:"name",placeholder:d.main.name,label:d.main.name}),(0,t.jsx)(u.Bc,{name:"name",component:"div",className:"text-red-500 text-xs"})]})}),(0,t.jsx)("div",{className:"relative p-6 flex",children:(0,t.jsxs)("div",{className:"flex-1 flex-col",children:[(0,t.jsx)(u.gN,{as:p.Z,name:"namePa",placeholder:d.main.name_pa,label:d.main.name_pa}),(0,t.jsx)(u.Bc,{name:"namePa",component:"div",className:"text-red-500 text-xs"})]})}),(0,t.jsx)("div",{className:"relative p-6 flex",children:(0,t.jsxs)("div",{className:"flex-1 flex-col",children:[(0,t.jsx)(u.gN,{as:p.Z,name:"nameDa",placeholder:d.main.name_da,label:d.main.name_da}),(0,t.jsx)(u.Bc,{name:"nameDa",component:"div",className:"text-red-500 text-xs"})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-center mt-10 p-6 border-t space-x-2 border-solid border-gray-200 rounded-b",children:[(0,t.jsx)(m.z,{type:"submit",children:d.main.add}),(0,t.jsx)(m.z,{onClick:a,variant:"link",children:d.main.close})]})]})})})})})})},v=e=>{let[a,s]=(0,n.useState)(e.reportTypes),[x,u]=(0,n.useState)(1),[p,h]=(0,n.useState)(!1),f=()=>{h(!p)};return(0,n.useEffect)(()=>{x>=1&&l.Z.reportTypes.querySearch("page=".concat(x-1)).then(e=>{s(e.data)})},[x]),(0,t.jsxs)("div",{className:"flex-col space-y-3 justify-between mx-auto lg:max-w-7xl md:justify-start md:px-8",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"px-4 py-3 md:justify-start",children:[(0,t.jsxs)("div",{className:"flex justify-between pr-5",children:[(0,t.jsx)(r.Z,{title:e.dictionary.headers.report_types,numberCount:a.totalElements,size:"sm"}),(0,t.jsx)(m.z,{className:"bg-blue-500",onClick:f,children:e.dictionary.main.create})]}),(0,t.jsx)(i.Z,{setState:s,model:"reportTypes",lang:e.lang,dictionary:e.dictionary})]})}),(0,t.jsx)("div",{className:"px-4 flex flex-wrap",children:a.content.map(a=>(0,t.jsx)("div",{className:"lg:w-1/2 w-full px-2 mb-4",children:(0,t.jsx)(d.Z,{id:a.id,name:"pa"===e.lang?a.namePa:"da"===e.lang?a.nameDa:a.name,lang:e.lang,dictionary:e.dictionary,setReportTypes:s,reportType:a},a.id)},a.id))}),(0,t.jsx)("div",{className:"flex py-4 items-center justify-center",children:(0,t.jsx)(c.Z,{spacing:2,children:(0,t.jsx)(o.Z,{count:a.totalPages,showFirstButton:!0,showLastButton:!0,onChange:(e,a)=>u(a)})})}),p&&(0,t.jsx)("div",{className:"modal-background",children:(0,t.jsx)(y,{toggleModal:f,setReportTypeState:s,lang:e.lang,dictionary:e.dictionary})})]})}}},function(e){e.O(0,[150,5,616,697,775,396,540,901,943,478,596,744],function(){return e(e.s=6254)}),_N_E=e.O()}]);