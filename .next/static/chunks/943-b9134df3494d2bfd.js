(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{2480:function(){},3621:function(e,a,t){"use strict";t.d(a,{Z:function(){return N}});var s=t(7437),r=t(2265),n=t(6753),l=t(9911),i=t(1396),o=t.n(i),c=t(3928),d=t(6554),m=t(6230),x=t(5691),u=t(5707),h=t(3014),v=t(9687),j=t(8688),f=t(9619),g=t(2563),p=e=>{let{tagId:a,tag:t,lang:n,dictionary:l,toggleModal:i,setTags:o}=e,c=x.Ry({name:x.Z_().required(l.validation.english_name_required),namePa:x.Z_().required(l.validation.pashtu_name_required),nameDa:x.Z_().required(l.validation.pashtu_name_required)}),p=(0,r.useContext)(u.default),y={name:t.name,namePa:t.namePa,nameDa:t.nameDa};return(0,s.jsx)(m.J9,{initialValues:y,validationSchema:c,onSubmit:(e,t)=>{var s;let{setSubmitting:r}=t,{name:n,namePa:c,nameDa:d}=e;if(null==p?void 0:p.jwt){let e=null==p?void 0:null===(s=p.jwt)||void 0===s?void 0:s.accessToken;v.Z.tags.update({id:a,name:n,namePa:c,nameDa:d},e).then(e=>{i(),(0,h.toast)(l.notify.tag_updated_ok,{hideProgressBar:!0,autoClose:2e3,type:"success"}),v.Z.tags.querySearch("").then(e=>{o(e.data)})}).catch(e=>{console.error((0,j.e)(e)),(0,h.toast)((0,j.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})})}else(0,h.toast)(l.notify.sign_in_first,{hideProgressBar:!0,autoClose:2e3,type:"error"});r(!1)},children:(0,s.jsx)(m.l0,{children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"modal-background",children:(0,s.jsx)("div",{className:"relative lg:w-[35%] md:w-[50%] w-full my-6 max-w-3xl sm:",children:(0,s.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,s.jsx)("div",{className:"flex items-start justify-between p-5 rounded-t",children:(0,s.jsx)(f.Z,{title:l.main.edit_tag,size:"xs",className:"text-gray-600 "})}),(0,s.jsxs)("div",{className:"p-6 flex flex-col",children:[(0,s.jsx)("div",{className:"relative p-6 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(m.gN,{as:g.Z,name:"name",placeholder:l.main.name,label:l.main.name}),(0,s.jsx)(m.Bc,{name:"name",component:"div",className:"text-red-500 text-xs"})]})}),(0,s.jsx)("div",{className:"relative p-6 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(m.gN,{as:g.Z,name:"namePa",placeholder:l.main.name_pa,label:l.main.name_pa}),(0,s.jsx)(m.Bc,{name:"namePa",component:"div",className:"text-red-500 text-xs"})]})}),(0,s.jsx)("div",{className:"relative p-6 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(m.gN,{as:g.Z,name:"nameDa",placeholder:l.main.name_da,label:l.main.name_da}),(0,s.jsx)(m.Bc,{name:"nameDa",component:"div",className:"text-red-500 text-xs"})]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center mt-10 p-6 border-t space-x-2 border-solid border-gray-200 rounded-b",children:[(0,s.jsx)(d.z,{type:"submit",children:l.main.update}),(0,s.jsx)(d.z,{onClick:i,variant:"link",children:l.main.close})]})]})})})})})})},y=e=>{let{reportTypeId:a,reportType:t,lang:n,dictionary:l,toggleModal:i,setReportTypes:o}=e,c=x.Ry({name:x.Z_().required(l.validation.english_name_required),namePa:x.Z_().required(l.validation.pashtu_name_required),nameDa:x.Z_().required(l.validation.pashtu_name_required)}),p=(0,r.useContext)(u.default),y={name:t.name,namePa:t.namePa,nameDa:t.nameDa};return(0,s.jsx)(m.J9,{initialValues:y,validationSchema:c,onSubmit:(e,t)=>{var s;let{setSubmitting:r}=t,{name:n,namePa:c,nameDa:d}=e;if(null==p?void 0:p.jwt){let e=null==p?void 0:null===(s=p.jwt)||void 0===s?void 0:s.accessToken;v.Z.reportTypes.update({id:a,name:n,namePa:c,nameDa:d},e).then(e=>{i(),(0,h.toast)(l.notify.report_type_updated_ok,{hideProgressBar:!0,autoClose:2e3,type:"success"}),v.Z.reportTypes.querySearch("").then(e=>{o(e.data)})}).catch(e=>{console.error((0,j.e)(e)),(0,h.toast)((0,j.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})})}else(0,h.toast)(l.notify.sign_in_first,{hideProgressBar:!0,autoClose:2e3,type:"error"});r(!1)},children:(0,s.jsx)(m.l0,{children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"modal-background",children:(0,s.jsx)("div",{className:"relative lg:w-[35%] md:w-[50%] w-full my-6 max-w-3xl sm:",children:(0,s.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,s.jsx)("div",{className:"flex items-start justify-between p-5 rounded-t",children:(0,s.jsx)(f.Z,{title:l.main.edit_tag,size:"xs",className:"text-gray-600 "})}),(0,s.jsxs)("div",{className:"p-6 flex flex-col",children:[(0,s.jsx)("div",{className:"relative p-6 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(m.gN,{as:g.Z,name:"name",placeholder:l.main.name,label:l.main.name}),(0,s.jsx)(m.Bc,{name:"name",component:"div",className:"text-red-500 text-xs"})]})}),(0,s.jsx)("div",{className:"relative p-6 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(m.gN,{as:g.Z,name:"namePa",placeholder:l.main.name_pa,label:l.main.name_pa}),(0,s.jsx)(m.Bc,{name:"namePa",component:"div",className:"text-red-500 text-xs"})]})}),(0,s.jsx)("div",{className:"relative p-6 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex-col",children:[(0,s.jsx)(m.gN,{as:g.Z,name:"nameDa",placeholder:l.main.name_da,label:l.main.name_da}),(0,s.jsx)(m.Bc,{name:"nameDa",component:"div",className:"text-red-500 text-xs"})]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center mt-10 p-6 border-t space-x-2 border-solid border-gray-200 rounded-b",children:[(0,s.jsx)(d.z,{type:"submit",children:l.main.update}),(0,s.jsx)(d.z,{onClick:i,variant:"link",children:l.main.close})]})]})})})})})})},N=e=>{let{id:a,name:t,isTag:i,lang:m,discussionsCount:x,dictionary:u,isAdmin:h,setTags:v,setReportTypes:j,tag:f,reportType:g}=e,[N,Z]=(0,r.useState)(!1),[_,b]=(0,r.useState)(!1),w=()=>{Z(!N)},k=()=>{b(!_)};return(0,s.jsxs)("div",{className:"flex rounded overflow-hidden shadow-md",children:[i&&(0,s.jsx)("div",{className:"flex items-center justify-center flex-grow",children:(0,s.jsx)(l.Z.Tag,{className:"w-6 h-6"})}),(0,s.jsx)("div",{className:"flex w-[65%] py-1 px-1 justify-start items-center",children:i?(0,s.jsx)("div",{className:"text-xl text-blue-500 mb-2",children:(0,s.jsx)(o(),{href:"/".concat(m,"/questions/tag/").concat(a),children:(0,s.jsx)(c.Z,{className:"text-left text-blue-500",children:t})})}):(0,s.jsx)("div",{children:(0,s.jsx)(n.Z,{children:t})})}),(0,s.jsx)("div",{className:"flex items-center justify-center flex-grow",children:i?(0,s.jsxs)("div",{className:"flex flex-col",children:[h&&(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(d.z,{variant:"ghost",onClick:w,children:(0,s.jsx)(l.Z.FileEdit,{size:15})})}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.Z.X,{size:15}),(0,s.jsx)(n.Z,{className:"px-1 font-bold text-lg",children:x||0})]})]}):(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(d.z,{variant:"ghost",onClick:k,children:(0,s.jsx)(l.Z.FileEdit,{size:15})})})}),N&&(0,s.jsx)(p,{dictionary:u,lang:m,tagId:a,tag:f,toggleModal:w,setTags:v}),_&&(0,s.jsx)(y,{dictionary:u,lang:m,reportTypeId:a,reportType:g,toggleModal:k,setReportTypes:j})]})}},5707:function(e,a,t){"use strict";t.r(a),t.d(a,{AuthProvider:function(){return j},default:function(){return f}});var s=t(7437),r=t(2265),n=t(9687),l=t(8688),i=t(3014),o=t(4033),c=t(4177);let d="auth_token",m="user",x=()=>{try{return c.Z.getItem(d)}catch(e){console.log("Error getting the Auth Token",e)}},u=()=>{try{return c.Z.getItem(m)}catch(e){console.log("Error getting the Auth Token",e)}};var h={getToken:()=>{let e=x();return e||null},storeToken:e=>{try{c.Z.setItem(d,e)}catch(e){console.log("Error storing the Auth Token",e)}},removeToken:()=>{try{c.Z.removeItem(d)}catch(e){console.log("Error removing the auth token",e)}},getUser:()=>{let e=u();return e||null},storeUser:e=>{try{c.Z.setItem(m,e)}catch(e){console.log("Error storing the Auth Token",e)}},removeUser:()=>{try{c.Z.removeItem(m)}catch(e){console.log("Error removing the auth token",e)}}};let v=(0,r.createContext)(void 0),j=e=>{let{children:a}=e,t=(0,o.useRouter)(),c=h.getUser(),d=h.getToken(),[m,x]=(0,r.useState)(c||null),[u,j]=(0,r.useState)(d||null),f=async(e,a)=>{await n.Z.auth.signin({username:e,password:a}).then(e=>{h.storeToken(e.data),j(e.data),n.Z.users.retrieve(e.data.id).then(e=>{h.storeUser(e.data),x(e.data),e.data.lang?t.push("/".concat(e.data.lang)):t.push("/")}).catch(e=>{console.error((0,l.e)(e)),(0,i.toast)((0,l.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})})}).catch(e=>{console.error((0,l.e)(e)),(0,i.toast)((0,l.e)(e),{hideProgressBar:!0,autoClose:2e3,type:"error"})})};return(0,s.jsx)(v.Provider,{value:{user:m,jwt:u,login:f,logout:()=>{h.removeToken(),h.removeUser(),j(null),x(null)},updateUser:e=>{h.removeUser(),h.storeUser(e),x(e)}},children:a})};var f=v},9006:function(e,a,t){"use strict";var s=t(7437),r=t(2265),n=t(6230),l=t(5691),i=t(2563),o=t(6554),c=t(9911),d=t(9687);let m=l.Ry({content:l.Z_()});a.Z=e=>{let{setState:a,model:t,lang:l,dictionary:x}=e,[u,h]=(0,r.useState)(!1),v=e=>{"discussions"===t?d.Z.discussions.querySearch("title=".concat(e)).then(e=>{a(e.data)}):"moderators"===t?d.Z.users.querySearchModerators("name=".concat(e)).then(e=>{a(e.data)}):"members"===t?d.Z.users.querySearchMembers("name=".concat(e)).then(e=>{a(e.data)}):"tags"===t?d.Z.tags.querySearch("name=".concat(e)).then(e=>{a(e.data)}):"reportTypes"===t?d.Z.reportTypes.querySearch("name=".concat(e)).then(e=>{a(e.data)}):"reports"===t&&d.Z.reports.querySearch("content=".concat(e)).then(e=>{a(e.data)})},j=e=>{e(),h(!1),v("")};return(0,s.jsx)("div",{children:(0,s.jsx)(n.J9,{initialValues:{content:""},validationSchema:m,onSubmit:(e,a)=>{let{setSubmitting:t}=a;v("".concat(e.content))},children:e=>{let{resetForm:a}=e;return(0,s.jsxs)(n.l0,{className:"flex w-full justify-end",children:[u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-3 flex-col w-full px-3 mt-3",children:(0,s.jsxs)("div",{className:"relative flex-auto",children:[(0,s.jsx)(n.gN,{as:i.Z,name:"content",placeholder:x.main.search_here,clearIcon:!0,cleanStateToggle:()=>j(a),lang:l}),(0,s.jsx)(n.Bc,{name:"content",component:"div",className:"text-red-500 text-xs"})]})}),(0,s.jsx)("div",{className:"flex p-2",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(o.z,{type:"submit",className:"bg-blue-600",children:(0,s.jsx)(c.Z.Search,{})})})})]}),!u&&(0,s.jsx)("div",{className:"flex p-2",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(o.z,{type:"submit",variant:"ghost",onClick:()=>h(!0),children:(0,s.jsx)(c.Z.Search,{})})})})]})}})})}},3928:function(e,a,t){"use strict";var s=t(7437),r=t(2265),n=t(6061),l=t(306);let i=(0,n.j)("max-w-prose text-slate-700 dark:text-slate-300 text-center",{variants:{size:{default:"text-base sm:text-lg",sm:"text-sm, sm: text-base",xs:"text-xs, sm: text-xs"}},defaultVariants:{size:"default"}}),o=(0,r.forwardRef)((e,a)=>{let{className:t,size:r,children:n,...o}=e;return(0,s.jsx)("p",{ref:a,...o,className:(0,l.cn)(i({size:r,className:t})),children:n})});o.displayName="Paragraph",a.Z=o},8688:function(e,a,t){"use strict";t.d(a,{e:function(){return s}});let s=e=>{var a,t;let s=null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message;return s[0].message&&(s=s[0].message),s||(s="Something went wrong, Please try again."),s}}}]);